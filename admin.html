<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Admin Dashboard</title>

		<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
		<!-- supabase url and public key -->
		<script src="/data/supa_data.js"></script>

		<link rel="stylesheet" href="/style/admin.css" />
	</head>
	<body>
		<!-- Login Form -->
		<div id="loginForm">
			<h2>Admin Login</h2>
			<input type="email" id="email" placeholder="Email" required />
			<input type="password" id="password" placeholder="Password" required />
			<button id="loginBtn">Login</button>
			<p id="loginError"></p>
		</div>

		<!-- Dashboard -->
		<div id="dashboard">
			<h2>Admin Dashboard</h2>
			<button id="logoutBtn">Logout</button>

			<!-- Products Table -->
			<div class="table-wrapper">
				<table id="productsTable">
					<thead>
						<tr>
							<th>Title</th>
							<th>Description</th>
							<th>Tags</th>
							<th>Best Seller</th>
							<th>Show in Catalogue</th>
							<th>Main Image</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody></tbody>
				</table>
			</div>

			<!-- Add/Edit Product Form -->
			<form id="productForm">
				<h3 id="formTitle">Add New Product</h3>
				<input type="hidden" id="productId" />
				<label>Title</label>
				<input type="text" id="prodTitle" required />
				<label>Description</label>
				<textarea id="prodDesc" rows="3" required></textarea>
				<label>Tags (comma separated)</label>
				<input type="text" id="prodTags" required />
				<label>Main Image</label>
				<input type="file" id="prodMainImg" accept="image/*" required />
				<label>Extra Images (multiple)</label>
				<input type="file" id="prodExtraImgs" accept="image/*" multiple />
				<label>
					<input type="checkbox" id="prodBestSeller" /> Best Seller
				</label>
				<label>
					<input type="checkbox" id="prodShowCat" /> Show in Catalogue
				</label>
				<button type="submit">Save Product</button>
				<button type="button" id="cancelEdit">Cancel</button>
			</form>
		</div>
		<div id="spinner" class="spinner hidden">
			<div class="loader"></div>
			<div class="spinner-text">Please wait...</div>
		</div>

		<script src="/scripts/admin.js"></script>
	</body>
</html>
